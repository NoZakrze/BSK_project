<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: auxapp.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('auxapp_8py.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">auxapp.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Module responsible for generating RSA keys and encrypting private key.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a36b45705ca2f749b1a2fd911c33e2f31" id="r_a36b45705ca2f749b1a2fd911c33e2f31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36b45705ca2f749b1a2fd911c33e2f31">auxapp.encrypt_private_key</a> (private_key_pem, pin)</td></tr>
<tr class="memdesc:a36b45705ca2f749b1a2fd911c33e2f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that encrypt private key.  <br /></td></tr>
<tr class="separator:a36b45705ca2f749b1a2fd911c33e2f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1a70347dc625ea5d0f5f583f5a3877" id="r_a1f1a70347dc625ea5d0f5f583f5a3877"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f1a70347dc625ea5d0f5f583f5a3877">auxapp.generate_keys</a> (pin, usb_path)</td></tr>
<tr class="memdesc:a1f1a70347dc625ea5d0f5f583f5a3877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that generate RSA keys and write it into the appropriate files.  <br /></td></tr>
<tr class="separator:a1f1a70347dc625ea5d0f5f583f5a3877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d31f04abd09576df8c2cbfea080a69" id="r_a06d31f04abd09576df8c2cbfea080a69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06d31f04abd09576df8c2cbfea080a69">auxapp.on_generate</a> ()</td></tr>
<tr class="memdesc:a06d31f04abd09576df8c2cbfea080a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that is called when user clicks "Generate Keys" button.  <br /></td></tr>
<tr class="separator:a06d31f04abd09576df8c2cbfea080a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9bfe4107abbaeaf180feaa81f8435b1b" id="r_a9bfe4107abbaeaf180feaa81f8435b1b"><td class="memItemLeft" align="right" valign="top"><a id="a9bfe4107abbaeaf180feaa81f8435b1b" name="a9bfe4107abbaeaf180feaa81f8435b1b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>auxapp.root</b> = tk.Tk()</td></tr>
<tr class="separator:a9bfe4107abbaeaf180feaa81f8435b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036555fb2a4b44a2813b09787f13c58b" id="r_a036555fb2a4b44a2813b09787f13c58b"><td class="memItemLeft" align="right" valign="top"><a id="a036555fb2a4b44a2813b09787f13c58b" name="a036555fb2a4b44a2813b09787f13c58b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>auxapp.text</b></td></tr>
<tr class="separator:a036555fb2a4b44a2813b09787f13c58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae57fadbbe4eb5a6e04a6a2c4066786" id="r_a2ae57fadbbe4eb5a6e04a6a2c4066786"><td class="memItemLeft" align="right" valign="top"><a id="a2ae57fadbbe4eb5a6e04a6a2c4066786" name="a2ae57fadbbe4eb5a6e04a6a2c4066786"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>auxapp.pady</b></td></tr>
<tr class="separator:a2ae57fadbbe4eb5a6e04a6a2c4066786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629d098189581756a0ac36fe41a18864" id="r_a629d098189581756a0ac36fe41a18864"><td class="memItemLeft" align="right" valign="top"><a id="a629d098189581756a0ac36fe41a18864" name="a629d098189581756a0ac36fe41a18864"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>auxapp.pin_entry</b> = tk.Entry(root, show=&quot;*&quot;, width=30)</td></tr>
<tr class="separator:a629d098189581756a0ac36fe41a18864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142b890dfa839aea542b689911073785" id="r_a142b890dfa839aea542b689911073785"><td class="memItemLeft" align="right" valign="top"><a id="a142b890dfa839aea542b689911073785" name="a142b890dfa839aea542b689911073785"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>auxapp.generate_button</b> = tk.Button(root, text=&quot;Generate Keys&quot;, command=<a class="el" href="#a06d31f04abd09576df8c2cbfea080a69">on_generate</a>)</td></tr>
<tr class="separator:a142b890dfa839aea542b689911073785"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module responsible for generating RSA keys and encrypting private key. </p>
<p>Steps that user must perform:</p><ol type="1">
<li>Hook the pendrive</li>
<li>Start the module</li>
<li>Enter pin code</li>
<li>Click on "Generate Keys" button When user clicks "Generate Keys" button RSA keys will be generated, private key will be encrypted based on user's PIN and both keys will be stored in an appropriate locations. </li>
</ol>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a36b45705ca2f749b1a2fd911c33e2f31" name="a36b45705ca2f749b1a2fd911c33e2f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b45705ca2f749b1a2fd911c33e2f31">&#9670;&#160;</a></span>encrypt_private_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auxapp.encrypt_private_key </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>private_key_pem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that encrypt private key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">private_key_pem</td><td>Encoded private key in bytes format </td></tr>
    <tr><td class="paramname">pin</td><td>User's pin in string format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>cipher.nonce Unique nonce (bytes), tag Authentication tag(bytes), ciphertext Encrypted data(bytes)</dd></dl>
<p>In this function pin code is transformed into 256-byte AES key. Then AES object is created and RSA private key is encrypted using key based on pin code </p>

</div>
</div>
<a id="a1f1a70347dc625ea5d0f5f583f5a3877" name="a1f1a70347dc625ea5d0f5f583f5a3877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1a70347dc625ea5d0f5f583f5a3877">&#9670;&#160;</a></span>generate_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auxapp.generate_keys </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>usb_path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that generate RSA keys and write it into the appropriate files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>User's pin in string format </td></tr>
    <tr><td class="paramname">usb_path</td><td>Root path to the usb in string format for example "D:" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>no return</dd></dl>
<p>In this function a pair of RSA keys are generated. Then encrypt_private_key function is called. Then both keys are stored in appropriate location. At the end user will see message box which will inform about result of the saving operation </p>

</div>
</div>
<a id="a06d31f04abd09576df8c2cbfea080a69" name="a06d31f04abd09576df8c2cbfea080a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d31f04abd09576df8c2cbfea080a69">&#9670;&#160;</a></span>on_generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auxapp.on_generate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that is called when user clicks "Generate Keys" button. </p>
<p>In this function pin is collected from user input. If the pin is given by the user, the generate_keys function is called. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="auxapp_8py.html">auxapp.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
